<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<title>Dashboard</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel="stylesheet" type="text/css" href="style.css" />

<style>

    @import url(https://fonts.googleapis.com/css?family=Open+Sans);
    .btn { display: inline-block; *display: inline; *zoom: 1; padding: 4px 10px 4px; margin-bottom: 0; font-size: 13px; line-height: 18px; color: #333333; text-align: center;text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); vertical-align: middle; background-color: #f5f5f5; background-image: -moz-linear-gradient(top, #ffffff, #e6e6e6); background-image: -ms-linear-gradient(top, #ffffff, #e6e6e6); background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#ffffff), to(#e6e6e6)); background-image: -webkit-linear-gradient(top, #ffffff, #e6e6e6); background-image: -o-linear-gradient(top, #ffffff, #e6e6e6); background-image: linear-gradient(top, #ffffff, #e6e6e6); background-repeat: repeat-x; filter: progid:dximagetransform.microsoft.gradient(startColorstr=#ffffff, endColorstr=#e6e6e6, GradientType=0); border-color: #e6e6e6 #e6e6e6 #e6e6e6; border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25); border: 1px solid #e6e6e6; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px; -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05); -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05); box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05); cursor: pointer; *margin-left: .3em; }
    .btn:hover, .btn:active, .btn.active, .btn.disabled, .btn[disabled] { background-color: #e6e6e6; }
    .btn-large { padding: 9px 14px; font-size: 15px; line-height: normal; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; }
    .btn:hover { color: #333333; text-decoration: none; background-color: #e6e6e6; background-position: 0 -15px; -webkit-transition: background-position 0.1s linear; -moz-transition: background-position 0.1s linear; -ms-transition: background-position 0.1s linear; -o-transition: background-position 0.1s linear; transition: background-position 0.1s linear; }
    .btn-primary, .btn-primary:hover { text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25); color: #ffffff; }
    .btn-primary.active { color: rgba(255, 255, 255, 0.75); }
    .btn-primary { background-color: #4a77d4; background-image: -moz-linear-gradient(top, #6eb6de, #4a77d4); background-image: -ms-linear-gradient(top, #6eb6de, #4a77d4); background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#6eb6de), to(#4a77d4)); background-image: -webkit-linear-gradient(top, #6eb6de, #4a77d4); background-image: -o-linear-gradient(top, #6eb6de, #4a77d4); background-image: linear-gradient(top, #6eb6de, #4a77d4); background-repeat: repeat-x; filter: progid:dximagetransform.microsoft.gradient(startColorstr=#6eb6de, endColorstr=#4a77d4, GradientType=0);  border: 1px solid #3762bc; text-shadow: 1px 1px 1px rgba(0,0,0,0.4); box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.5); }
    .btn-primary:hover, .btn-primary:active, .btn-primary.active, .btn-primary.disabled, .btn-primary[disabled] { filter: none; background-color: #4a77d4; }
    .btn-block { width: 100%; display:block; }

    * { -webkit-box-sizing:border-box; -moz-box-sizing:border-box; -ms-box-sizing:border-box; -o-box-sizing:border-box; box-sizing:border-box; }

    html { width: 100%; height:100%; overflow:scroll; }
    /*body {
        width: 100%;
        height:100%;
        font-family: 'Open Sans', sans-serif;
        background: #092756;
        background: -moz-radial-gradient(0% 100%, ellipse cover, rgba(104,128,138,.4) 10%,rgba(138,114,76,0) 40%),-moz-linear-gradient(top,  rgba(57,173,219,.25) 0%, rgba(42,60,87,.4) 100%), -moz-linear-gradient(-45deg,  #670d10 0%, #092756 100%);
        background: -webkit-radial-gradient(0% 100%, ellipse cover, rgba(104,128,138,.4) 10%,rgba(138,114,76,0) 40%), -webkit-linear-gradient(top,  rgba(57,173,219,.25) 0%,rgba(42,60,87,.4) 100%), -webkit-linear-gradient(-45deg,  #670d10 0%,#092756 100%);
        background: -o-radial-gradient(0% 100%, ellipse cover, rgba(104,128,138,.4) 10%,rgba(138,114,76,0) 40%), -o-linear-gradient(top,  rgba(57,173,219,.25) 0%,rgba(42,60,87,.4) 100%), -o-linear-gradient(-45deg,  #670d10 0%,#092756 100%);
        background: -ms-radial-gradient(0% 100%, ellipse cover, rgba(104,128,138,.4) 10%,rgba(138,114,76,0) 40%), -ms-linear-gradient(top,  rgba(57,173,219,.25) 0%,rgba(42,60,87,.4) 100%), -ms-linear-gradient(-45deg,  #670d10 0%,#092756 100%);
        background: -webkit-radial-gradient(0% 100%, ellipse cover, rgba(104,128,138,.4) 10%,rgba(138,114,76,0) 40%), linear-gradient(to bottom,  rgba(57,173,219,.25) 0%,rgba(42,60,87,.4) 100%), linear-gradient(135deg,  #670d10 0%,#092756 100%);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3E1D6D', endColorstr='#092756',GradientType=1 );*/
    /*background: url(http://subtlepatterns.com/patterns/use_your_illusion.png);
    color: #eee;
    font: 1em 'PT Sans', sans-serif;*/
    /*}*/

    input {
        width: 100%;
        margin-bottom: 10px;
        background: rgba(0,0,0,0.3);
        border: none;
        outline: none;
        padding: 10px;
        font-size: 13px;
        color: #fff;
        text-shadow: 1px 1px 1px rgba(0,0,0,0.3);
        border: 1px solid rgba(0,0,0,0.3);
        border-radius: 4px;
        box-shadow: inset 0 -5px 45px rgba(100,100,100,0.2), 0 1px 1px rgba(255,255,255,0.2);
        -webkit-transition: box-shadow .5s ease;
        -moz-transition: box-shadow .5s ease;
        -o-transition: box-shadow .5s ease;
        -ms-transition: box-shadow .5s ease;
        transition: box-shadow .5s ease;
    }
    input:focus { box-shadow: inset 0 -5px 45px rgba(100,100,100,0.4), 0 1px 1px rgba(255,255,255,0.2); }

    options
    {
        width: 100%;
        margin-bottom: 10px;
        background: rgba(0,0,0,0.3);
        border: none;
        outline: none;
        padding: 10px;
        font-size: 13px;
        color: #fff;
        text-shadow: 1px 1px 1px rgba(0,0,0,0.3);
        border: 1px solid rgba(0,0,0,0.3);
        border-radius: 4px;
        box-shadow: inset 0 -5px 45px rgba(100,100,100,0.2), 0 1px 1px rgba(255,255,255,0.2);
        -webkit-transition: box-shadow .5s ease;
        -moz-transition: box-shadow .5s ease;
        -o-transition: box-shadow .5s ease;
        -ms-transition: box-shadow .5s ease;
        transition: box-shadow .5s ease;
    }

    options:focus { box-shadow: inset 0 -5px 45px rgba(100,100,100,0.4), 0 1px 1px rgba(255,255,255,0.2); }

    select
    {
        width: 100%;
        margin-bottom: 10px;
        background: rgba(0,0,0,0.3);
        border: none;
        outline: none;
        padding: 10px;
        font-size: 13px;
        color: #fff;
        text-shadow: 1px 1px 1px rgba(0,0,0,0.3);
        border: 1px solid rgba(0,0,0,0.3);
        border-radius: 4px;
        box-shadow: inset 0 -5px 45px rgba(100,100,100,0.2), 0 1px 1px rgba(255,255,255,0.2);
        -webkit-transition: box-shadow .5s ease;
        -moz-transition: box-shadow .5s ease;
        -o-transition: box-shadow .5s ease;
        -ms-transition: box-shadow .5s ease;
        transition: box-shadow .5s ease;
    }

    select:focus { box-shadow: inset 0 -5px 45px rgba(100,100,100,0.4), 0 1px 1px rgba(255,255,255,0.2); }

    option {
        width: 100%;
        margin-bottom: 10px;
        background: rgba(0,0,0,0.3);
        border: none;
        outline: none;
        padding: 10px;
        font-size: 13px;
        color: #fff;
        text-shadow: 1px 1px 1px rgba(0,0,0,0.3);
        border: 1px solid rgba(0,0,0,0.3);
        border-radius: 4px;
        box-shadow: inset 0 -5px 45px rgba(100,100,100,0.2), 0 1px 1px rgba(255,255,255,0.2);
        -webkit-transition: box-shadow .5s ease;
        -moz-transition: box-shadow .5s ease;
        -o-transition: box-shadow .5s ease;
        -ms-transition: box-shadow .5s ease;
        transition: box-shadow .5s ease;
    }

    option:focus { box-shadow: inset 0 -5px 45px rgba(100,100,100,0.4), 0 1px 1px rgba(255,255,255,0.2); }

    .dropbtn
    {
        background-color: #4EC6DE;
        color: white;
        min-width: 160px;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
    }

    .dropdown
    {
        position: fixed;
        top: 0%;
        right: 0%;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        /*display: inline-block;*/
    }

    .dropdown-content
    {
        display: none;
        position: fixed;
        top: 50;
        right: 0;
        /*position: absolute;*/
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

    .dropdown-content a
    {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

    .dropdown-content a:hover {background-color: #f1f1f1}

    .dropdown:hover .dropdown-content
    {
        display: block;
    }

    .header
    {
        color: #C2C1C1;
        position: fixed;
        top: 5px;
        left: 50px;
    }

    .tab
    {
        position: fixed;
        left: 20px;
        right: 160px;
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
        top: 90px;
    }

    .tab button
    {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 50px;
        transition: 0.3s;
    }

    .tab button:hover
    {
        background-color: #ddd;
    }

    .tab button.active
    {
        background-color: #ccc;
    }

    #user
    {
        position: fixed;
        top: 160px;
        left: 20px;
        width: 80%;
        display: none;
        padding: 6px 12px;
        /*border: 1px solid #ccc;*/
        border-color: #f1f1f1;
        border-top: none;
    }

    #admin-device
    {
        position: fixed;
        top: 160px;
        left: 20px;
        width: 20%;
        display: none;
        padding: 6px 12px;
        /*border: 1px solid #ccc;*/
        border-color: #f1f1f1;
        border-top: none;
    }


    /* Style the tab content */
    #admin-user {
        position: fixed;
        top: 160px;
        left: 20px;
        width: 20%;
        display: none;
        padding: 6px 12px;   /*border: 1px solid #ccc;*/
        border-color: #f1f1f1;
        border-top: none;
    }

    .delete
    {
        position: relative;
        top: 150px;
        left: 150px;
        margin: -150px 0 0 -150px;
        width:300px;
        height:300px;
        color: #ffffff;
    }

    h3
    {
        color: white;
    }

    .tabcontent button
    {
        background-color: #4EC6DE;
    }

    .switch
    {
        position: relative;
        display: block;
        margin: 5px;
        /*display: inline-block;*/
        width: 60px;
        height: 34px;
    }

    .switch input
    {
        display:none;
    }

    .slider
    {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .slider:before
    {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .check
    {
        width: 100%;
    }

    input:checked + .slider
    {
        background-color: #2196F3;
    }

    input:focus + .slider
    {
        box-shadow: 0 0 1px #2196F3;
    }

    input:checked + .slider:before
    {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
    }

    .slider.round
    {
        border-radius: 34px;
    }

    .slider.round:before
    {
        border-radius: 50%;
    }

    .head
    {
        color: #FF0000;
    }

    .slide{
        color: #FF0000;
    }

    .container th h1
    {
        font-weight: bold;
        font-size: 1em;
        text-align: left;
        color: #185875;
    }

    .container td
    {
        font-weight: normal;
        font-size: 1em;
        -webkit-box-shadow: 0 2px 2px -2px #0E1119;
        -moz-box-shadow: 0 2px 2px -2px #0E1119;
        box-shadow: 0 2px 2px -2px #0E1119;
    }

    .container
    {
        text-align: left;
        overflow: hidden;
        width: 100%;
        margin: 0 auto;
        display: table;
        padding: 0 0 8em 0;
    }

    .container td, .container th
    {
        padding-bottom: 2%;
        padding-top: 2%;
        padding-left:2%;
    }

    .container tr:nth-child(odd)
    {
        background-color: #323C50;
    }

    .container tr:nth-child(even)
    {
        background-color: #2C3446;
    }

    .container th
    {
        background-color: #1F2739;
    }

    .container td
    {
        color: #ccc;
    }

    .container tr:hover
    {
        background-color: #464A52;
        -webkit-box-shadow: 0 6px 6px -6px #0E1119;
        -moz-box-shadow: 0 6px 6px -6px #0E1119;
        box-shadow: 0 6px 6px -6px #0E1119;
    }

    .container td:hover
    {
        background-color: #ccc;
        color: #000000;
        font-weight: bold;
        box-shadow: #a6a6a6 -1px 1px, #a6a6a6 -2px 2px, #a6a6a6 -3px 3px, #a6a6a6 -4px 4px, #a6a6a6 -5px 5px, #a6a6a6 -6px 6px;
        transform: translate3d(6px, -6px, 0);
        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: all;
        transition-timing-function: line;
    }

    @media (max-width: 800px)
    {
        .container td:nth-child(4),
        .container th:nth-child(4) { display: none; }
    }
</style>

<script>

    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].onclick = function() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight){
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
            }
        }
    }

</script>

<script>

    $('.switch').click(function(){
        if($(this).hasClass('active')){
            $(this).removeClass('active')
        } else {
            $(this).addClass('active')
        }
    });

</script>

<script>

    function switchtype() {

        var type = val[i].device_type;
        if(type == "Switch")
        {
            document.getElementById("toggles");
        }else
            document.getElementById("toggles");
    }

</script>

<script>

    function openTabs(evt, cityName)
    {
        // Declare all variables
        var i, tabcontent, tablinks;

        // Get all elements with class="tabcontent" and hide them
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        // Get all elements with class="tablinks" and remove the class "active"
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }

        // Show the current tab, and add an "active" class to the button that opened the tab
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    }

</script>

<script src ="js/tabs.js"></script>

<body onload="switchtype" id="dashboard">

<!--TITLE-->
<div class="header">
    <h1>Dashboard</h1>
</div>

<!--DROPDOWN FOR LOG OUT-->
<div class="dropdown">
    <button class="dropbtn">Options</button>
    <div class="dropdown-content">
        <a href="/logout" class="btn btn-default btn-sm">Logout</a>
    </div>
</div>

<!--TABS-->
<div class = "tab">
    <button class="tablinks" onclick="openTabs(event, 'user')">Active Devices</button>
    <button class="tablinks" onclick="openTabs(event, 'admin-device')">Admin</button>
    <button class="tablinks" onclick="openTabs(event, 'admin-user')">User Modification</button>
</div>

<div id="user" class="tabcontent">
    <table class="container">
        <thead>
        <tr>
            <th><h1>Device ID</h1></th>
            <th><h1>Manufacturer</h1></th>
            <th><h1>Type</h1></th>
            <th><h1>Device Control</h1></th>
        </tr>
        </thead>
        <tbody>
        <% for(var i=0; i<val.length; i++) {%>
        <tr>
            <td><%= val[i].device_id %></td>
            <td><%= val[i].manufacturer %></td>
            <td><%= val[i].device_type %></td>
            <td>
                <% if(val[i].device_type == "Sensor"){ %>
                <div id="slide">
                    <input type="range" min="10" max="1000" step="10" value="300" data-orientation="vertical">
                </div>
                <% } %>

                <% if(val[i].device_type == "Switch"){ %>
                <div id="toggles">
                    <label class="switch">
                        <input type="checkbox" data-toggle="toggle" data-on="Enabled" data-off="Disabled">
                        <span class="slider round"></span>
                </div>
                <% } %>
                </label>
            </td>
        </tr>
        <% } %>
        </tbody>
    </table>
</div>

<div id="admin-device" class="tabcontent">

    <h3>Add Device</h3>

    <form method="post">
        <input type="text" name="d_id" placeholder="Device ID" required="required" />
        <input type="text" name="manu" placeholder="Manufacturer" required="required" />
        <select name="d_type" class="form-control selectpicker">
            <option value="">Select Device Type</option>
            <option>Sensor</option>
            <option>Switch</option>
        </select>
        <!--<input type="text" name="d_type" placeholder="Device type" required="required" />-->
        <!--<input type="text" name="dstatus" placeholder="Status" required="required" />-->
        <button type="submit" class="btn btn-primary btn-block btn-large">Add Device</button>
    </form>

    <h3>Remove Device</h3>

    <form method="post">
        <input type="text" name="u" placeholder="Device ID" required="required" />
        <button type="submit" class="btn btn-primary btn-block btn-large">Remove Device</button>
    </form>
</div>

<div id="admin-user" class="tabcontent">

    <h3>Delete User</h3>

    <form method="post">
        <input type="text" name="userremove" placeholder="Username" required="required" />
        <button type="submit" class="btn btn-primary btn-block btn-large">Delete User</button>
    </form>


    <h3>Modify User Access</h3>

    <form method="post">
        <input type="text" name="chngun" placeholder="Username" required="required" />
        <div class="col-md-4 selectContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
                <select name="department" class="form-control selectpicker">
                    <option value="">Select Access Level</option>
                    <option>0</option>
                    <option>1</option>
                </select>
            </div>
        </div>

        <button type="submit" class="btn btn-primary btn-block btn-large">Change Access</button>
    </form>

</div>
</body>
</html>